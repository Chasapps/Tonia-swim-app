/* Pretty theme */
:root{
  --bg: #f6f8ff;
  --card:#ffffff;
  --ink:#1f2430;
  --muted:#6f7690;
  --accent:#2563eb;      /* Indigo-500 */
  --accent-2:#60a5fa;    /* Sky-400 */
  --chip:#eef2ff;
  --good:#10b981;
  --shadow: 0 10px 20px rgba(18, 51, 139, .10), 0 2px 6px rgba(18, 51, 139, .08);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--ink);
  background:
    radial-gradient(1200px 600px at -10% -10%, #e6eeff 0, transparent 60%),
    radial-gradient(1200px 800px at 110% -20%, #eaf6ff 0, transparent 60%),
    var(--bg);
  font:16px/1.35 'Nunito', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}

/* Header */
header.glass{
  position:sticky; top:0; z-index:30;
  backdrop-filter: saturate(160%) blur(8px);
  background: linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.55));
  border-bottom:1px solid rgba(65,90,170,.12);
}
.titlebar{display:flex;align-items:center;gap:12px;padding:10px 14px}
.brand{display:flex;align-items:center;gap:10px}
.brand .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(120deg,var(--accent),var(--accent-2));box-shadow:0 0 0 3px rgba(37,99,235,.15)}
h1{margin:0;font-size:22px;font-weight:800;letter-spacing:.2px}
.badge{
  background:#fff;border:1px solid #e6e9f5;border-radius:999px;padding:6px 12px;
  font-size:13px;color:#2a2f40; box-shadow: var(--shadow);
}
.actions{margin-left:auto;display:flex;gap:8px}
.pill{border-radius:999px;padding:8px 14px;border:1px solid #d9e0f5;background:#fff;cursor:pointer;transition:transform .06s ease, box-shadow .2s}
.pill:active{transform:translateY(1px)}
.primary{background:linear-gradient(180deg,var(--accent),#1d4ed8);color:#fff;border-color:#1b49c9;box-shadow:0 6px 16px rgba(37,99,235,.25)}
.primary:active{filter:brightness(.98)}
.ghost{background:#fff}

/* Main layout */
main{padding:14px}
.view{display:none}.view.active{display:block}
.content-split{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.card{background:var(--card);border:1px solid #e7e9f6;border-radius:16px;box-shadow:var(--shadow);overflow:hidden}
#map{height:68vh}
.map-wrap{position:relative}
.map-toggle{position:absolute;right:10px;top:10px;z-index:900;background:#fff;border:1px solid #d9dfe7}
.scroll-list{height:68vh;overflow:auto;padding:6px}

/* Controls */
.controls{display:flex;gap:10px;margin-bottom:10px}
.controls .pill{min-width:46px}

/* Rows */
.pool-item{display:flex;align-items:center;gap:12px;padding:12px;border-bottom:1px dashed #eef1fb}
.pool-item:last-child{border-bottom:none}
.pool-name{font-weight:700;letter-spacing:.2px}
.coords{color:var(--muted);font-size:12.5px}
.row-selected{background:linear-gradient(90deg, #f0f5ff, #ffffff)}

/* Stamp chip with micro animation */
.stamp-chip{
  margin-left:auto;border:1px dashed #c8d3ff;background:var(--chip);
  padding:6px 12px;border-radius:999px;font-size:13px;cursor:pointer;
  transition: background .2s ease, transform .06s ease;
}
.stamp-chip:active{transform:translateY(1px)}
.stamped{background:#e7fff3;border-color:#baf3d2;color:#0f7a56}

/* Passport */
.subtitle{margin:6px 0 12px 4px;font-size:18px;font-weight:800;color:#1f2a44}
.passport-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:14px}
.passport{
  position:relative;background:var(--card);border:2px solid #e8e1c5;border-radius:14px;
  padding:18px;min-height:150px;box-shadow:inset 0 0 0 2px #f7f1d7, var(--shadow);
}
.passport .title{font-weight:800;margin-bottom:6px}
.stamp{position:absolute;right:10px;bottom:10px;opacity:.94;transform:rotate(-8deg) scale(.88);transition: transform .25s ease, opacity .25s ease}
.stamp.pop{transform:rotate(-8deg) scale(1.02)}
.stamp img{width:96px;height:96px;filter:grayscale(.05)}
.stamp .label{position:absolute;left:50%;top:56%;transform:translate(-50%,-50%) rotate(-8deg);font-weight:900;font-size:11px;text-align:center;max-width:80px}
.hint{color:var(--muted)}

/* Fullscreen map mode */
.full-map header{display:none}
.full-map main{padding:0}
.full-map #listView .content-split{grid-template-columns:1fr}
.full-map #map{height:100vh;border-radius:0;border:none}
.full-map .scroll-list,.full-map .controls{display:none}
.full-map .map-toggle{top:12px;right:12px}

/* Mobile */
@media (max-width: 860px){
  .content-split{grid-template-columns:1fr}
  #map,.scroll-list{height:58vh}
}
